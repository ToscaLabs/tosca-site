{% extends "base.html" %}

{%- block content -%}
    <section>
        <div class="container">
            {% if paginator -%}
               {%- set pages = paginator.pages -%}
            {%- else -%}
               {%- set pages = section.pages -%}
            {%- endif -%}
            {%- for page in pages -%}
            <div class="blog-post">
                <h2><a href="{{ page.permalink | safe }}">{{ page.title }}</a></h2>
                <div class="date">{{ page.date }}</div>
                <div class="excerpt">
                  {{ page.description }}
                </div>
                <a href="{{ page.permalink | safe }}">{{ section.extra.read_more }} →</a>
            </div>
            {%- endfor -%}

            {% if paginator %}
            <div class="paginator">
                {% if paginator.previous -%}
                <a href="{{ paginator.previous | safe }}">« {{ section.extra.previous }}</a>
                {% else -%}
                <span class="disabled">« {{ section.extra.previous }}</span>
                {% endif -%}
                — <strong>{{ paginator.current_index }}</strong> —
                {% if paginator.next -%}
                <a href="{{ paginator.next | safe }}">{{ section.extra.next }} »</a>
                {%- else -%}
                <span class="disabled">{{ section.extra.next }} »</span>
                {% endif %}
           </div>
           {%- endif %}
        </div>
    </section>
{%- endblock %}
